; place in .emacs to enable syntax coloring for spyce files
; this is about as simple as you get with mmm-mode; improvements are welcome
; (mmm-mode is installed by default with recent versions of GNU|X Emacs)
(require 'mmm-auto)
(require 'mmm-sample)
(setq mmm-global-mode 'maybe)
(setq auto-mode-alist (cons '("\\.spy$" . html-mode) auto-mode-alist))
(setq auto-mode-alist (cons '("\\.spi$" . html-mode) auto-mode-alist))
(mmm-add-classes
 '((spyce1
    :submode python-mode
    :front "<%"
    :back "%>")
   (spyce2
    :submode python-mode
    :front "\\[\\["
    :back "\\]\\]")
  )
)
(mmm-add-mode-ext-class nil "\\.spi$" 'spyce1)
(mmm-add-mode-ext-class nil "\\.spy$" 'spyce1)
(mmm-add-mode-ext-class nil "\\.spi$" 'spyce2)
(mmm-add-mode-ext-class nil "\\.spy$" 'spyce2)

(mmm-add-mode-ext-class nil "\\.spi$" 'html-js)
(mmm-add-mode-ext-class nil "\\.spy$" 'html-js)
