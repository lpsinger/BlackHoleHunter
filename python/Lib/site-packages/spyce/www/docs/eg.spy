[[.compact]]
[[.import names="include"]]
[[ include.spyce('/inc/head.spi', {'pagename': 'Examples', 'page': 'eg.html'}) ]]
[[.include file="/inc/static.spi"]]

The following is a list of examples extracted from the Spyce documentation.
You can click on the links below to view the Spyce source, and try to run the
code as well. Note, however, that these example will only work if these pages
are viewed from a Spyce-enabled web server. A short description of each is
provided. For a more detailed explanation, please refer to the documentation.

[[\
  import os

  def getOutputName(file):
    import os
    return os.path.splitext(file)[0] + '.src.html'
    
  def makeEgSrc(file, otherfiles, getOutputName=getOutputName, includeCode=includeCode):
    output = getOutputName(file)
    stdout.push(output)
    include.spyce('/inc/head.spi', {'pagename': 'Examples', 'page': 'eg.html'})
    includeCode('examples/'+file)
    if otherfiles:
      print '<p><b>Supplemental files:</b><br>'
      for f in otherfiles:
        includeCode('examples/'+f, run=0)
    print '<p>Back to <a href="eg.html">List of Examples</a>'
    include.spyce('/inc/tail.spi')
    stdout.pop()
]]

[[

def emitLink(f, s, f2=(), getOutputName=getOutputName, egprefix=egprefix, makeEgSrc=makeEgSrc): {
  import os
]] <li><a href="[[=getOutputName(f)]]">view</a>,
    [[\
      if egprefix:
        run = egprefix + os.path.split(f)[-1]
      else:
        run = '/docs/examples' + '/'.join(os.path.split(f))
    ]]
    <a href="[[= run ]]">run</a> -
    [[=f]] : [[=s]] </li> [[
    makeEgSrc(f, f2)
  }
]]

<ul>
[[\
  emitLink('hello.spy', 'Hello World!')
  emitLink('asp.spy', 'Hello World!, ASP syntax')
  emitLink('hello2.spy', 'Colourful Hello Word!')
  emitLink('gif.spy', 'Spyce logo')
  emitLink('stdout.spy', 'Using print and stdout')
  emitLink('spylambda.spy', 'Defining Spyce lambda functions')
  emitLink('myPortal.spy', 'Using spyce lambda inside modules', ('myPortal.py',))
  emitLink('tag.spy', 'Active tags', ('myTaglib.py',))
  emitLink('error.spy', 'Error handling', ('error.spi',))
  emitLink('errorSyntax.spy', 'Syntax error')
  emitLink('include.spy', 'Dynamic includes', ('include.spi',))
  emitLink('includestatic.spy', 'Static includes', ('includestatic.spi',))
  emitLink('transform.spy', 'Dynamic output filters')
  emitLink('compress.spy', 'Dynamic compression')
  emitLink('template.spy', 'Interaction with various template engines', ('template.tmpl',))
  emitLink('getpost.spy', 'GET and POST info')
  emitLink('request.spy', 'Request information')
  emitLink('form.spy', 'Basic form handling')
  emitLink('fileupload.spy', 'Form-based file upload')
  emitLink('cookie.spy', 'Cookie functionality')
  emitLink('session.spy', 'Session handling')
  emitLink('autosession.spy', 'Automatic session handling')
  emitLink('autosessionpost.spy', 'Automatic session handling via POST')
  emitLink('mysession.spy', 'User-defined session handling functions')
  emitLink('redirect.spy', 'Request redirection methods')
  emitLink('pool.spy', 'Server-pooled variables')
  emitLink('automaton.spy', 'State-machine functionality')
  emitLink('info.spy', 'Output Spyce runtime information')
]]
</ul> <p>

The Spyce documentation and the entire Spyce website were produced using
Spyce. <p>

[[include.spyce('/inc/tail.spi') ]]
