<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <style type="text/css"><!--
	.code {
	  border: 2px dotted;

	  font-family: Courier,monospace;
	  font-size: 90%;

	  background-color: #E0E0E0;
	  margin-left: 10;
	  margin-right: 10;
	  padding-left: 10;
	  padding-right: 10;
	  padding-top: 0;
	  padding-bottom: 10;
	}
    a { text-decoration: none; color: #0000cc }
    a:hover { text-decoration: underline; color: #0000cc; }
  --></style>
<title>Spyce - Python Server Pages (PSP)</title>
  <meta NAME="LANGUAGE" CONTENT="en-US">
  <meta NAME="RATING" CONTENT="GENERAL">
  <meta NAME="ROBOTS" CONTENT="ALL">
  <meta name="abstract" content="Spyce is a server-side language that supports simple and efficient Python-based dynamic HTML generation. Those who like Python and are familiar with JSP, or PHP, or ASP, should have a look at Spyce.">
  <meta name="description" content="Spyce - Python Server Pages: a server-side language that supports simple and efficient Python-based dynamic HTML generation.">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta HTTP-EQUIV="Refresh" CONTENT="1800">
  <meta HTTP-EQUIV="Revisit-After" CONTENT="15 days">
  <link rel="icon" href="spycefav.ico" type="image/x-icon">
  <link rel="shortcut icon" href="spycefav.ico" type="image/x-icon">
<link rel="Next" href="doc-None.html">
<link rel="next" href="doc-None.html">
<link rel="Previous" href="doc-None.html">
<link rel="Prev" href="doc-None.html">
<link rel="prev" href="doc-None.html">
<link rel="Contents" href="doc.html">
<link rel="contents" href="doc.html">
</head>

<body bgcolor="#efefef">

<table border=0 cellspacing=0 cellpadding=0 width="100%"><tr><td valign=top>

<!-- links section -->

<!-- index -->
<table border=0 align=center width="100%"><tr><td align=center nowrap>
  <a href="http://spyce.sourceforge.net"><img src="/spyce.gif" border=0 alt="spyce" width=58 height=70></a>
</td></tr></table>

<table align=center border=1 cellpadding=4 cellspacing=0 bgcolor="#CCCCCC">
<tr><td align=left bgColor="#AAAAAA"><b>
  <font face="arial, helvetica" size="-1">
<b><a href="/index.html">home</a></b><br>
  </font>
</b></td></tr>
<tr><td align=left>
  <font face="arial, helvetica" size="-1">
<b><a href="http://svn-hosting.com/svn/spyce/trunk/spyce/CHANGES">changelog</a></b><br>
<b><a href="/docs/license.html">license</a></b><br>
<b><a href="/docs/get.html">download</a></b><br>
<b><a href="/docs/mail.html">community</a></b><br>
<b><a href="/docs/wishlist.html">wishlist</a></b><br>
  </font>
</td></tr>
<tr><td align=left bgColor="#AAAAAA"><b>
  <font face="arial, helvetica" size="-1">
<b><a href="/docs/doc.html">documentation</a></b><br>
  </font>
</b></td></tr>
<tr><td align=left>
  <font face="arial, helvetica" size="-1">
<b><a href="/docs/doc-intro.html">intro</a></b><br>
<b><a href="/docs/doc-lang.html">language</a></b><br>
<b><a href="/docs/doc-runtime.html">runtime</a></b><br>
<b><a href="/docs/doc-mod.html">modules</a></b><br>
<b><a href="/docs/doc-tag.html">tags</a></b><br>
<b><a href="/docs/doc-conf.html">install</a></b><br>
<b><a href="/docs/eg.html">examples list</a></b><br>
  </font>
</td></tr>
<tr><td align=left bgColor="#AAAAAA"><b>
  <font face="arial, helvetica" size="-1">
      <b>other</b>
  </font>
</b></td></tr>
<tr><td align=left>
  <font face="arial, helvetica" size="-1">
<b><a href="/docs/links.html">resources</a></b><br>
<b><a href="http://sourceforge.net/projects/spyce/">sf project</a></b><br>
<b><a href="http://spyced.blogspot.com/">spyced blog</a></b><br>
  </font>
</td></tr></table><br>

<!-- spacers -->
</td>
<td width=15><img src=/trans1x1.gif width=15 height=1 ></td>
<td width=1 bgcolor="#888888"><img src=/trans1x1.gif width=1 height=1 ></td>
<td width=15><img src=/trans1x1.gif width=15 height=1 ></td>
<td width="100%" valign=top>

<!-- page title -->
<table border=0 width="100%"><tr>
  <td nowrap valign=bottom>
    <b><font face="arial, helvetica" size="-1"><big>Documentation - Performance</big></font></b><br clear=all>
  </td>
  <td align=right nowrap valign=bottom>
    <font face="arial, helvetica" size="-1">
    <b><big>[[ <font face="arial, helvetica" color="#cc0000">Spyce</font> ]]</big></b><br>
    </font>
</tr></table>

<hr>
<font face="arial, helvetica" size="-1">

<!-- body -->

<table width="100%" align=center><tr>
    <td align=left width="33%" nowrap><font face="arial, helvetica" size="-1"><b>Prev:</b> None</font></td>
    <td align=center width="33%" nowrap><font face="arial, helvetica" size="-1"><b>Up:</b> None</font></td>
    <td align=right width="33%" nowrap><font face="arial, helvetica" size="-1"><b>Next:</b> None</font></td>
</tr></table>
<hr>
<big><a name="add_perf"></a><b>7.1. <font color=#ee0000>Performance</font></b></big><p>


Although flexibility usually outweighs raw performance in the choice of
technology, it is nice to know that the technology that you have chosen is not
a resource hog, and can scale to large production sites. The current Spyce
implementation is comparable to its cousin technologies: JSP, PHP and ASP. We
ran a micro-benchmark using <b>hello.spy</b> and equivalents. All benchmark
files are available in the <font face=courier>misc/benchmark</font>
directory.<p>

<table border=1 align=center>
<tr><td align=left bgcolor="#cccccc">
  <font face="arial, helvetica" size="-1"><b>examples/hello.spy</b></font>
</td></tr><tr><td>
  <font face=courier>

    <pre><font color="#000000"><b>&lt;spy:parent title=&quot;Hello&quot; /&gt;
<font color="#0000CC">[[ import spyce ]]</font>

Hello from Spyce version 
<font color="#CC0000">[[= spyce.__version__ ]]</font>!
</b></font></pre>
  </font>

  </td></tr><tr><td align=right bgcolor="#cccccc">
    <font face="arial, helvetica" size="-1">
      
      <b><a href="examples/hello.spy">Run this code</a></b>
    </font>

</td></tr></table>
<p>
Spyce was measured under CGI, FCGI, mod_python and proxy configurations. For
calibration the static HTML, CGI-C, CGI-Python and FCGI-Python tests were
performed. In the case of CGI-C, the request is handled by a compiled C
program with the appropriate printf statements. In the case of CGI-Python, we
have an executable Python script with the appropriate print statements.
FCGI-Python is a similar script that is FCGI enabled. ASP was measured on a
different machine, only to satisfy curiosity; those results are omitted. <p>
<table border=1 align=center>
<tr>
<td bgcolor="#cccccc"><font face="arial, helvetica" size="-1">Configuration</font></td>
<td bgcolor="#cccccc"><font face="arial, helvetica" size="-1">Hello world!</font></td>
</tr>
<tr>
<td><font face="arial, helvetica" size="-1"><b>Spyce-modpython</b></font></td>
<td align=right><font face="arial, helvetica" size="-1"><b>250</b></font></td>
</tr>
<tr>
<td><font face="arial, helvetica" size="-1">modpython publisher</font></td>
<td align=right><font face="arial, helvetica" size="-1">300</font></td>
</tr>
<tr>
<td><font face="arial, helvetica" size="-1"><b>Spyce-proxy</b></font></td>
<td align=right><font face="arial, helvetica" size="-1"><b>200</b></font></td>
</tr>
<tr>
<td><font face="arial, helvetica" size="-1">JSP</font></td>
<td align=right><font face="arial, helvetica" size="-1">100</font></td>
</tr>
<tr>
<td><font face="arial, helvetica" size="-1">PHP</font></td>
<td align=right><font face="arial, helvetica" size="-1">450</font></td>
</tr>
<tr>
<td><font face="arial, helvetica" size="-1"><b>Spyce-FCGI</b></font></td>
<td align=right><font face="arial, helvetica" size="-1"><b>100</b></font></td>
</tr>
<tr>
<td><font face="arial, helvetica" size="-1">Python-FCGI</font></td>
<td align=right><font face="arial, helvetica" size="-1">140</font></td>
</tr>
<tr>
<td><font face="arial, helvetica" size="-1"><b>Spyce-CGI</b></font></td>
<td align=right><font face="arial, helvetica" size="-1"><b>8</b></font></td>
</tr>
<tr>
<td><font face="arial, helvetica" size="-1">Python-CGI</font></td>
<td align=right><font face="arial, helvetica" size="-1">25</font></td>
</tr>
<tr>
<td><font face="arial, helvetica" size="-1">C-CGI</font></td>
<td align=right><font face="arial, helvetica" size="-1">180</font></td>
</tr>
<tr>
<td><font face="arial, helvetica" size="-1">Static HTML</font></td>
<td align=right><font face="arial, helvetica" size="-1">1500</font></td>
</tr>
</table>
<p>
The throughput results (shown above in requests per second) were measured on a
Intel&nbsp;PIII&nbsp;700MHz, with 128&nbsp;MB of RAM and a 512&nbsp;KB cache
running RedHat Linux&nbsp;7.2 (2.4.7-10&nbsp;kernel), Apache&nbsp;1.3.22 and
Python&nbsp;2.2 using loopback (http://localhost/...) requests. Since each of
the script languages requires an initial compilation phase (of which JSP seems
the longest), the server was warmed up with 100&nbsp;requests before executing
1000&nbsp;measured requests with a concurrency level of&nbsp;3, using the
ab&nbsp;(Apache benchmark) tool. Figures are rounded to the nearest
25&nbsp;requests/second. <p>
<b>Conclusion:</b>All spyce configuration options except CGI
can handle large
websites, as the Spyce engine and cache persist between requests. The CGI
version takes a hit in recompiling Spyce files on every request. (This may be
alleviated using a disk-based Spyce cache (as opposed to the current
memory-based implementation).)
<p>
<hr>

<table width="100%" align=center><tr>
    <td align=left width="33%" nowrap><font face="arial, helvetica" size="-1"><b>Prev:</b> None</font></td>
    <td align=center width="33%" nowrap><font face="arial, helvetica" size="-1"><b>Up:</b> None</font></td>
    <td align=right width="33%" nowrap><font face="arial, helvetica" size="-1"><b>Next:</b> None</font></td>
</tr></table>
<!-- end body -->
<p>
</font>
</td></tr>
<tr><td colspan=5><hr></td></tr>
<tr><td colspan=5 height=15></td></tr>
<tr><td colspan=5>

  <table width="100%" border=0><tr>
    <td align=left valign=top>
      <font face="arial, helvetica" size="-1">
      <b><big>[[ <font face="arial, helvetica" color="#cc0000">Spyce</font> ]]</big></b><br>
      <small>Python Server Pages<br>version 2.0.3</small>
      </font>
    </td><td align=center valign=top>
      <a href="http://spyce.sourceforge.net"><img align=middle width=120 height=50 border=0 src="/spycepow.gif" alt="Spyce Powered"></a>
      <a href="http://sourceforge.net"><img align=middle src="http://sourceforge.net/sflogo.php?group_id=53655&amp;type=5" width="141" height="50" border="0" alt="SourceForge Logo"></a>
    </td><td align=right valign=top>
    </td>
  </tr></table>

</td></tr></table>

</body></html>
